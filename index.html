<!DOCTYPE html>
  <html>
      <head>
          <meta charset="utf-8" />
          <title>Arkanoid</title>
          <style>
              * {
                  padding: 0;
                  margin: 0;
              }
              canvas {
                  background-color: #eee;
                  display: block;
                  margin: 50px auto;
              }
          </style>
      </head>
      <body>
          
          <canvas id="myCanvas" width="480" height="320"></canvas>
          
          <script>
              
              var canvas = document.getElementById("myCanvas");  
              var ctx = canvas.getContext("2d"); 
              
              var x = canvas.width / 2; 
              var y = canvas.height - 30; 
              var ballRadius = 10; 
              var dx = 2; 
              var dy = -2; 
              
              var brickRowCount = 3;
              var brickColumnCount = 5;
              var brickWidth = 75;
              var brickHeight = 20;
              var brickPadding = 10;
              var brickOffsetTop = 30;
              var brickOffsetLeft = 30;
              var brickColor = ["blue", "red", "yellow"];
              
              var bricks = [];
              for (var r = 0; r < brickRowCount; r++) {
                  bricks[r] = [];
                  for (var c = 0; c < brickColumnCount; c++) {
                      bricks[r][c] = {x: 0, y: 0, status: 1, color: ""};
                      bricks[r][c].x = (c * (brickWidth + brickPadding)) + brickOffsetLeft;
                      bricks[r][c].y = (r * (brickHeight + brickPadding)) + brickOffsetTop;
                      bricks[r][c].color = brickColor[Math.round(Math.random() * (brickColor.length -1))];
                  }
              }
                  
              
              function drawBricks() {
                  for (var r = 0; r < brickRowCount; r++) {
                      for (var c = 0; c < brickColumnCount; c++) {
                          if (bricks[r][c].status == 1) {
                              ctx.beginPath();
                              ctx.rect(bricks[r][c].x, bricks[r][c].y, brickWidth, brickHeight);
                              ctx.fillStyle = bricks[r][c].color;
                              ctx.fill();
                              ctx.closePath();
                          }
                      }
                  }
              }
              
              function collisionDetection() {
                  for (var r = 0; r < brickRowCount; r++) {
                      for (var c = 0; c < brickColumnCount; c++) {
                          if (bricks[r][c].status == 1) {
                              if (x > bricks[r][c].x && x < bricks[r][c].x + brickWidth && y > bricks[r][c].y && y < bricks[r][c].y + brickHeight) {
                                  dy = -dy;
                                  bricks[r][c].status = 0;
                              }   
                          }
                      }
                  }
              }
              
              function draw () { 
                  if (x + dx + ballRadius > canvas.width || x + dx < ballRadius) { 
                      dx = -dx; 
                  }
                  if (y + dy + ballRadius > canvas.height || y + dy < ballRadius) { 
                      dy = -dy; 
                  }
                  ctx.clearRect(0, 0, canvas.width, canvas.height); 
                  collisionDetection();
                  drawBricks();
                  ctx.beginPath(); 
                  ctx.arc(x, y, ballRadius, 0, Math.PI*2,false); 
                  ctx.fillStyle = "green"; 
                  ctx.fill(); 
                  ctx.closePath(); 
                  x += dx; 
                  y += dy; 
              }
                  
              setInterval(draw, 10); 
                  
          </script>
          
      </body>
  </html> 